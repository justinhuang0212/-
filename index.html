<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å°ä¼æ¥­äººäº‹æˆæœ¬è¨ˆç®—å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            font-size: 2.2em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Line ç™»å…¥å€åŸŸæ¨£å¼ */
        .line-login-section {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 60vh;
            padding: 40px 20px;
        }

        .login-card {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 400px;
            width: 100%;
        }

        .login-card h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .login-card p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .login-buttons {
            margin: 30px 0;
        }

        .line-login-btn {
            background: #00C300;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s;
            width: 100%;
        }

        .line-login-btn:hover {
            transform: translateY(-2px);
            background: #00A300;
        }

        .login-info {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .login-info p {
            margin: 8px 0;
            color: #888;
        }

        /* è¨ˆç®—å™¨ä¸»é«”æ¨£å¼ */
        .calculator {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .company-info {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .company-info h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }

        .required {
            color: #e74c3c;
            font-weight: bold;
        }

        input[type="text"],
        input[type="tel"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #3498db;
        }

        select {
            cursor: pointer;
        }

        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 25px 0;
        }

        button:hover {
            transform: translateY(-2px);
        }

        /* çµæœå€åŸŸæ¨£å¼ */
        .results {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 25px;
        }

        .results h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .summary {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 4px solid #3498db;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .summary-item:last-child {
            border-bottom: none;
            font-weight: bold;
            color: #3498db;
        }

        .departments {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .department {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-top: 4px solid #3498db;
            text-align: center;
        }

        .department h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .dept-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .dept-info span {
            font-size: 0.9em;
            color: #666;
        }

        /* AI å»ºè­°å€åŸŸ */
        .ai-recommendations {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }

        .ai-recommendations h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        /* è¼‰å…¥å‹•ç•« */
        .loading {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 20px;
            justify-content: center;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #e74c3c;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ç”¨æˆ¶è³‡è¨Šå€åŸŸ */
        .user-info {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .user-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 250px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .user-details {
            flex: 1;
        }

        .user-details h3 {
            margin: 0;
            font-size: 0.9em;
            color: #2c3e50;
        }

        .user-details p {
            margin: 4px 0 0 0;
            font-size: 0.8em;
            color: #27ae60;
        }

        .logout-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            font-size: 0.8em;
            cursor: pointer;
            transition: background 0.2s;
            width: auto;
            margin: 0;
        }

        .logout-btn:hover {
            background: #c0392b;
            transform: none;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .calculator {
                padding: 20px;
            }
            
            .departments {
                grid-template-columns: 1fr;
            }
            
            .user-info {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 20px;
            }
            
            .user-card {
                margin: 0 auto;
            }
            
            .login-card {
                margin: 20px;
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä¸­å°ä¼æ¥­äººäº‹æˆæœ¬è¨ˆç®—å™¨</h1>
        
        <!-- Line ç™»å…¥å€åŸŸ -->
        <div id="lineLoginSection" class="line-login-section">
            <div class="login-card">
                <h2>ğŸ” è«‹å…ˆç™»å…¥ Line å¸³è™Ÿ</h2>
                <p>æ­¤å·¥å…·å°ˆç‚º Line å®˜æ–¹å¸³è™Ÿå¥½å‹æä¾›</p>
                <p>è«‹ä½¿ç”¨æ‚¨çš„ Line å¸³è™Ÿç™»å…¥ä»¥ç¹¼çºŒä½¿ç”¨</p>
                
                <div class="login-buttons">
                    <button id="lineLoginBtn" class="line-login-btn">
                        ğŸ“± Line Login
                    </button>
                </div>
                
                <div class="login-info">
                    <p><small>ğŸ“± ç™»å…¥å¾Œå³å¯ä½¿ç”¨å…è²»çš„ AI è–ªè³‡è¨ˆç®—å™¨</small></p>
                    <p><small>ğŸ”’ æˆ‘å€‘é‡è¦–æ‚¨çš„éš±ç§ï¼Œåƒ…ç”¨æ–¼èº«ä»½é©—è­‰</small></p>
                </div>
            </div>
        </div>
        
        <!-- è¨ˆç®—å™¨ä¸»é«”ï¼ˆç™»å…¥å¾Œé¡¯ç¤ºï¼‰ -->
        <div class="calculator" id="calculatorSection" style="display: none;">
            <div class="company-info">
                <h2>è¯çµ¡äººè³‡æ–™</h2>
                
                <div class="input-group">
                    <label for="contactName">è¯çµ¡äººå§“åï¼š<span class="required">*</span></label>
                    <input type="text" id="contactName" placeholder="è«‹è¼¸å…¥è¯çµ¡äººå§“å" required>
                </div>
                
                <div class="input-group">
                    <label for="contactPhone">è¯çµ¡é›»è©±ï¼š<span class="required">*</span></label>
                    <input type="tel" id="contactPhone" placeholder="è«‹è¼¸å…¥è¯çµ¡é›»è©±" required>
                </div>
                
                <h2>å…¬å¸åŸºæœ¬è³‡æ–™</h2>
                
                <div class="input-group">
                    <label for="companyName">å…¬å¸åç¨±ï¼š<span class="required">*</span></label>
                    <input type="text" id="companyName" placeholder="è«‹è¼¸å…¥å…¬å¸åç¨±" required>
                </div>
                
                <div class="input-group">
                    <label for="businessCategory">æ¥­æ…‹å¤§é¡ï¼š</label>
                    <select id="businessCategory">
                        <option value="">è«‹å…ˆé¸æ“‡æ¥­æ…‹å¤§é¡</option>
                        <option value="food_service">ğŸ½ï¸ é¤é£²æœå‹™é¡</option>
                        <option value="retail_ecommerce">ğŸ›’ é›¶å”®é›»å•†é¡</option>
                        <option value="beauty_health">ğŸ’„ ç¾å®¹å¥åº·é¡</option>
                        <option value="education">ğŸ“š æ•™è‚²åŸ¹è¨“é¡</option>
                        <option value="real_estate">ğŸ  æˆ¿åœ°ç”¢æœå‹™é¡</option>
                        <option value="automotive">ğŸš— æ±½è»Šæœå‹™é¡</option>
                        <option value="engineering">ğŸ”§ å·¥ç¨‹å»ºè¨­é¡</option>
                        <option value="design_marketing">ğŸ¨ è¨­è¨ˆè¡ŒéŠ·é¡</option>
                        <option value="technology">ğŸ’» ç§‘æŠ€è³‡è¨Šé¡</option>
                        <option value="manufacturing">ğŸ­ è£½é€ åŠ å·¥é¡</option>
                        <option value="outsourcing">ğŸ¤ æœå‹™å¤–åŒ…é¡</option>
                        <option value="logistics">ğŸšš ç‰©æµé‹è¼¸é¡</option>
                        <option value="trading">ğŸ“¦ è²¿æ˜“ä¾›æ‡‰é¡</option>
                        <option value="tourism">ğŸ–ï¸ è§€å…‰æ—…éŠé¡</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="businessType">å…·é«”æ¥­æ…‹ï¼š</label>
                    <select id="businessType" disabled>
                        <option value="">è«‹å…ˆé¸æ“‡æ¥­æ…‹å¤§é¡</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="revenue">å¹´ç‡Ÿæ¥­é¡ï¼ˆè¬å…ƒï¼‰ï¼š<span class="required">*</span></label>
                    <input type="number" id="revenue" placeholder="è«‹è¼¸å…¥å¹´ç‡Ÿæ¥­é¡" required>
                </div>
                
                <div class="input-group">
                    <label for="grossMargin">æ¯›åˆ©ç‡ï¼ˆ%ï¼‰ï¼š<span class="required">*</span></label>
                    <input type="number" id="grossMargin" placeholder="è«‹è¼¸å…¥æ¯›åˆ©ç‡" min="0" max="100" required>
                </div>
                
                <div class="input-group">
                    <label for="employeeCount">ç›®å‰å“¡å·¥äººæ•¸ï¼š<span class="required">*</span></label>
                    <input type="number" id="employeeCount" placeholder="è«‹è¼¸å…¥å“¡å·¥äººæ•¸" required>
                </div>
            </div>
            
            <button onclick="calculateHRCosts()">è¨ˆç®—äººäº‹æˆæœ¬é…ç½®</button>
            
            <div class="results" id="results" style="display: none;">
                <h2>å»ºè­°äººäº‹æˆæœ¬é…ç½®</h2>
                
                <div class="summary">
                    <div class="summary-item">
                        <span>å¹´æ¯›åˆ©ï¼š</span>
                        <span id="grossProfit">NT$ 0</span>
                    </div>
                    <div class="summary-item">
                        <span>å»ºè­°äººäº‹æˆæœ¬ç¸½é¡ï¼š</span>
                        <span id="totalHRCost">NT$ 0</span>
                    </div>
                    <div class="summary-item">
                        <span>äººäº‹æˆæœ¬å æ¯›åˆ©æ¯”ä¾‹ï¼š</span>
                        <span id="hrRatio">0%</span>
                    </div>
                </div>
                
                <div class="departments">
                    <div class="department">
                        <h3>éŠ·å”®éƒ¨é–€</h3>
                        <div class="dept-info">
                            <span>å»ºè­°äººæ•¸ï¼š<span id="salesCount">0</span>äºº</span>
                            <span>æœˆè–ªè³‡æˆæœ¬ï¼š<span id="salesCost">NT$ 0</span></span>
                        </div>
                    </div>
                    
                    <div class="department">
                        <h3>ç”¢å“æœå‹™éƒ¨é–€</h3>
                        <div class="dept-info">
                            <span>å»ºè­°äººæ•¸ï¼š<span id="productCount">0</span>äºº</span>
                            <span>æœˆè–ªè³‡æˆæœ¬ï¼š<span id="productCost">NT$ 0</span></span>
                        </div>
                    </div>
                    
                    <div class="department">
                        <h3>è¡ŒéŠ·éƒ¨é–€</h3>
                        <div class="dept-info">
                            <span>å»ºè­°äººæ•¸ï¼š<span id="marketingCount">0</span>äºº</span>
                            <span>æœˆè–ªè³‡æˆæœ¬ï¼š<span id="marketingCost">NT$ 0</span></span>
                        </div>
                    </div>
                    
                    <div class="department">
                        <h3>è¡Œæ”¿æ”¯æ´éƒ¨é–€</h3>
                        <div class="dept-info">
                            <span>å»ºè­°äººæ•¸ï¼š<span id="adminCount">0</span>äºº</span>
                            <span>æœˆè–ªè³‡æˆæœ¬ï¼š<span id="adminCost">NT$ 0</span></span>
                        </div>
                    </div>
                </div>
                
                <div class="ai-recommendations">
                    <h3>ğŸ¤– AI å°ˆæ¥­å»ºè­°</h3>
                    <div id="ai-loading" class="loading" style="display: none;">
                        <div class="spinner"></div>
                        <span>AI æ­£åœ¨ç‚ºæ‚¨åˆ†æä¸­...</span>
                    </div>
                    <div id="ai-recommendations-content">
                        <p>è«‹å…ˆé€²è¡Œäººäº‹æˆæœ¬è¨ˆç®—ï¼ŒAI å°‡è‡ªå‹•ç‚ºæ‚¨æä¾›å°ˆæ¥­å»ºè­°ã€‚</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ¶è³‡è¨Šé¡¯ç¤ºå€ -->
        <div id="userInfo" class="user-info" style="display: none;">
            <div class="user-card">
                <img id="userAvatar" src="" alt="ç”¨æˆ¶é ­åƒ" class="user-avatar">
                <div class="user-details">
                    <h3 id="userName">ç”¨æˆ¶åç¨±</h3>
                    <p id="userStatus">Line å¸³è™Ÿå·²é©—è­‰ âœ…</p>
                </div>
                <button id="logoutBtn" class="logout-btn">ç™»å‡º</button>
            </div>
        </div>
    </div>
    
    <!-- Line SDK -->
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="script.js"></script>
</body>
</html>